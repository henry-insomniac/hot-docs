# Hot Docs 产品定位文档（v2.0）

> 本文档面向：产品/技术负责人、潜在贡献者、生态作者。用于明确 Hot Docs 的定位、边界、差异化与成功标准，并为后续开发计划与里程碑提供“方向约束”。

## 1. 背景与愿景

Hot Docs 的核心愿景是：提供一个**开源、轻量、静态优先、可任意环境部署**的 Docs + Blog 系统，内容以本地目录为唯一事实来源（Markdown + 资源文件），并通过**主题/插件体系**持续扩展能力。

与 `docs/requirements.md`、`docs/architecture.md` 的关系：
- `docs/requirements.md`：描述“做什么”（需求与验收），并给出技术方案草案。
- `docs/architecture.md`：描述“怎么做”（分层、模块边界、数据流、契约）。
- 本文档：描述“为什么这样做”（定位、差异化、边界、成功指标）。

## 2. 一句话定位

**Hot Docs 是一个以本地 Markdown 为唯一事实来源、静态优先、轻运行时的 Docs + Blog 生成器；提供可治理的主题与插件体系，并把“本地实时预览体验”和“可部署性”作为第一优先级。**

## 3. 核心价值主张（Value Proposition）

### 3.1 对站点使用者（读者）
- 页面加载快、可离线缓存（静态站点天然优势）。
- 一致的阅读体验：暗色长文阅读友好、代码块/表格/图表呈现稳定。
- SEO 友好：预渲染 HTML、sitemap/feed 等产物易集成。

### 3.2 对内容作者（写作/维护者）
- 内容目录即事实来源，迁移成本低；无需绑定特定 SaaS。
- 保存即更新：dev 环境下的热更新（或近似 HMR）是核心体验。
- 结构清晰：Docs（树形导航）与 Blog（时间序/标签/归档）同一内核统一。

### 3.3 对工程团队（平台/架构）
- 静态优先带来“任意部署”：GitHub Pages、Nginx、对象存储 + CDN、容器等统一可用。
- 主题/插件可治理：manifest + `apiVersion` + capabilities，使扩展点“可演进、可诊断、可迁移”。
- 默认“轻运行时”：尽量在构建期完成内容处理，运行时只做最小必要增强。

## 4. 目标用户与典型场景

### 4.1 目标用户
- 工程团队：产品文档/规范/知识库，需要稳定部署与版本可控的扩展能力。
- 开源维护者：需要文档站 + Blog 组合，且希望以插件扩展搜索、图表、SEO 等。
- 个人创作者：偏静态发布、暗色阅读、Markdown 写作，追求一键启动与可迁移。
- 生态作者：主题作者/插件作者，需要稳定且清晰的契约与示例。

### 4.2 场景
- 本地写文档：保存后自动刷新当前页面并保持结构（导航/TOC/搜索）一致更新。
- 团队文档站：按目录生成 sidebar 树，支持多集合（docs/blog/pages），可子路径部署。
- Blog 发布：文章列表/标签/归档、RSS、sitemap，静态部署即可上线。
- 文档增强：Mermaid/KaTeX/Admonition/代码高亮/复制按钮/搜索等通过插件接入。

## 5. 竞品与差异化（客观）

> 结论：Hot Docs 不应正面“复刻”成熟产品，而应在“静态优先 + 轻运行时 + 可治理扩展 + 强 DX”形成自己的稳定优势。

### 5.1 常见竞品（对比维度）
- **VitePress**：DX 强、主题成熟；但技术栈绑定 Vue/Vite，扩展/渲染形态与运行时耦合更重。
- **Docusaurus**：生态成熟、功能全面；但体量较大，默认运行时/构建链更重。
- **Astro/Starlight**：静态体验好、组件体系丰富；但围绕 Astro 生态，主题/插件的契约与运行时形态有其框架特性。
- **Docsify**：上手快，但偏运行时渲染，SEO/性能与“产物治理”不如静态优先。
- **GitBook/Notion**：强产品但依赖平台，迁移与可控性弱（与 Hot Docs 目标相悖）。

### 5.2 Hot Docs 的差异化主张
- **静态优先的“最小公分母”**：默认产物是 `dist/` 纯静态，部署环境不挑。
- **轻运行时策略**：核心能力尽量在构建期完成；前端只做路由/少量增强，减少技术锁定。
- **可治理的扩展体系**：插件有 capabilities 与阶段管线，配合 overlay 诊断、性能统计与错误归因。
- **契约优先**：对外稳定的是 config / 内容索引 / theme token / plugin hook，而不是某框架组件细节。

## 6. 产品边界（非目标）

第一阶段明确不做（或仅以插件/后续形态提供）：
- 多租户与权限系统、复杂协作审批流、在线编辑器（WYSIWYG）。
- 远程“插件市场/在线安装”与签名体系（先本地可信，逐步增强安全治理）。
- 默认引入大型前端框架运行时/MDX 组件体系（可作为可选 adapter，而非默认路径）。

## 7. 关键设计原则（用于约束实现）

- **Static-first**：默认输出预渲染 HTML；SSR/Server 通过 adapter 扩展。
- **Compatibility-first**：`site.base`、资源路径、路由策略必须在 dev/build/preview 行为一致。
- **Contract-first**：对外暴露的 API（config/types/hooks）要版本化，避免“实现细节外泄”导致生态不可控。
- **Observability-first（开发态）**：错误必须可归因（文件/插件/阶段），耗时必须可见（便于性能演进）。
- **Progressive disclosure**：新用户无需理解插件体系也能用；高级用户再逐步开启扩展能力。

## 8. 成功标准（可量化）

### 8.1 体验指标（建议）
- Time-to-first-preview：新项目 `init && dev` 后 ≤ 30 秒看到首屏（依赖安装除外，可作为体验目标）。
- Save-to-visible：小文档（<200KB）≤ 500ms；中等（<1MB）≤ 1s。
- 热更新稳定性：连续编辑 30 分钟不出现“导航错乱/页面不一致/死循环刷新”。

### 8.2 工程指标（建议）
- build 可复现：同一内容输入产物稳定（hash/路径规则不漂移）。
- 输出产物可治理：`dist/` 结构稳定、子路径部署正确、静态服务器兼容。
- 插件兼容策略明确：`apiVersion` 与迁移指南模板可用。

### 8.3 生态指标（中长期）
- 官方提供 3~5 个参考插件与 1 个高质量默认主题。
- 第三方插件/主题出现且能随 core 版本升级而平滑迁移（依赖契约稳定）。

## 9. 发布、分发与开源治理建议

### 9.1 分发形态
- 以 `@hot-docs/cli` 为主入口，提供 `dev/build/preview/init/new` 等命令。
- core/dev-server/build/runtime/theme/plugins 拆包发布，便于生态与版本治理。

### 9.2 版本与兼容策略（建议）
- core 采用 SemVer；0.x 允许迭代，但仍建议遵循“可迁移”的发布纪律。
- 插件/主题通过 `apiVersion` 明确兼容边界；破坏性变更必须提供迁移说明与示例。

### 9.3 开源治理（建议最小集）
- LICENSE（MIT/Apache-2.0 二选一）。
- CONTRIBUTING / CODE_OF_CONDUCT / issue&PR 模板。
- Roadmap（公开里程碑 + 版本目标），避免社区预期落差。

## 10. 主要风险与应对

- **差异化不清晰**：避免“全家桶”，围绕 static-first + 轻运行时 + 契约治理持续强化。
- **base/path/链接重写复杂**：尽早把 `site.base` 与资源路径规则统一到 core，并用用例覆盖（含 Windows 路径）。
- **插件体系一上来过重**：先做最小 capabilities + pipeline，配套官方参考插件；避免过早设计“万能 API”。
- **规模性能瓶颈**：先把增量索引/缓存/性能统计架起来，避免未来不可诊断。

